import React, { useMemo } from 'react';

export default function SingleRating({
  ratingCount = 0,
  style = {},
  size = 16,
  ...props
}) {
  const avarageRating = useMemo(
    () => (ratingCount > 0 ? ratingCount : 0),
    [ratingCount]
  );

  return (
    <div
      className="position-relative"
      style={{ height: size, width: size, display: 'flex', ...style }}
      {...props}
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 18 17"
        fill="none"
        style={{
          height: size,
          width: size,
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          zIndex: 0,
        }}
      >
        <path
          d="M16.7359 6.39649L11.7769 5.67579L9.56013 1.18165C9.49958 1.0586 9.39997 0.958992 9.27692 0.898445C8.96833 0.746101 8.59333 0.873054 8.43903 1.18165L6.22223 5.67579L1.26325 6.39649C1.12653 6.41602 1.00153 6.48048 0.905829 6.57813C0.790129 6.69705 0.726373 6.85704 0.728571 7.02294C0.730768 7.18884 0.798739 7.34709 0.917548 7.4629L4.50544 10.9609L3.65778 15.9004C3.6379 16.0153 3.65062 16.1335 3.69449 16.2415C3.73835 16.3496 3.81161 16.4432 3.90596 16.5117C4.00031 16.5802 4.11198 16.6209 4.22829 16.6292C4.3446 16.6375 4.46091 16.613 4.56403 16.5586L8.99958 14.2266L13.4351 16.5586C13.5562 16.6231 13.6968 16.6445 13.8316 16.6211C14.1715 16.5625 14.4 16.2402 14.3414 15.9004L13.4937 10.9609L17.0816 7.4629C17.1793 7.3672 17.2437 7.24219 17.2633 7.10548C17.316 6.76368 17.0777 6.44727 16.7359 6.39649Z"
          fill="darkgrey"
        />
      </svg>

      <div
        style={{
          position: 'absolute',
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          zIndex: 1,
          display: 'flex',
          overflow: 'hidden',
          width: avarageRating * 20 > 100 ? '100%' : `${avarageRating * 20}%`,
        }}
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 18 17"
          fill="none"
          style={{ height: 16, width: size, flexShrink: 0 }}
        >
          <path
            d="M16.7359 6.39649L11.7769 5.67579L9.56013 1.18165C9.49958 1.0586 9.39997 0.958992 9.27692 0.898445C8.96833 0.746101 8.59333 0.873054 8.43903 1.18165L6.22223 5.67579L1.26325 6.39649C1.12653 6.41602 1.00153 6.48048 0.905829 6.57813C0.790129 6.69705 0.726373 6.85704 0.728571 7.02294C0.730768 7.18884 0.798739 7.34709 0.917548 7.4629L4.50544 10.9609L3.65778 15.9004C3.6379 16.0153 3.65062 16.1335 3.69449 16.2415C3.73835 16.3496 3.81161 16.4432 3.90596 16.5117C4.00031 16.5802 4.11198 16.6209 4.22829 16.6292C4.3446 16.6375 4.46091 16.613 4.56403 16.5586L8.99958 14.2266L13.4351 16.5586C13.5562 16.6231 13.6968 16.6445 13.8316 16.6211C14.1715 16.5625 14.4 16.2402 14.3414 15.9004L13.4937 10.9609L17.0816 7.4629C17.1793 7.3672 17.2437 7.24219 17.2633 7.10548C17.316 6.76368 17.0777 6.44727 16.7359 6.39649Z"
            fill="#FFCC21"
          />
        </svg>
      </div>
    </div>
  );
}
